[package]
name = "sequoia-policy-config"
authors = ["Neal H. Walfield <neal@pep.foundation>"]
homepage = "https://sequoia-pgp.org/"
repository = "https://gitlab.com/sequoia-pgp/sequoia-policy-config"
readme = "README.md"
keywords = ["cryptography", "openpgp" ]
description = "Configure Sequoia using a configuration file."
license = "LGPL-2.0-or-later"
version = "0.8.0"
edition = "2021"
rust-version = "1.70"
build = "build.rs"

[badges]
maintenance = { status = "actively-developed" }

[lib]
name = "sequoia_policy_config"
path = "src/lib.rs"

[[bin]]
name = "sequoia-policy-config-check"
path = "src/check.rs"

[dependencies]
anyhow = "1.0.18"
chrono = "0.4"
sequoia-openpgp = { version = "2", default-features = false }
serde = "1.0"
thiserror = "1.0.2"
toml = "0.5"

[dev-dependencies]
assert_cmd = "2"
quickcheck = { version = "1", default-features = false }

[target.'cfg(not(windows))'.dev-dependencies]
# Enables a crypto backend for the tests:
sequoia-openpgp = { version = "2", default-features = false, features = ["crypto-nettle", "__implicit-crypto-backend-for-tests"]  }

[target.'cfg(windows)'.dev-dependencies]
# Enables a crypto backend for the tests:
sequoia-openpgp = { version = "2", default-features = false, features = ["crypto-cng", "__implicit-crypto-backend-for-tests"] }

[package.metadata.docs.rs]
# Enables a crypto backend for the docs.rs generation:
features = ["sequoia-openpgp/default"]
